# Passing Data Deeply with Context

## Prop Drilling

- There is some information (like login data, Permissions, locale, theme etc) that multiple components located at different levels need to access.
- React suggests lifting the state up to a common ancestor and treat it as a source of truth and then pass data via props.
- But since components are located at different levels, we might have to pass data from root to leaf node.
- This is verbose and inconvinient.
- Context lets a parent component provide data to the entire tree below it.


## Step 1: Create the context 

```tsx
import { createContext } from 'react';

export const LevelContext = createContext(1);

```

- The only argumnet is the default value.
- Parent will make some information available to it's subtree. Here we are creating that information.


## Step 2: Use the context 

```tsx
import { useContext } from 'react';
import { LevelContext } from './LevelContext.js';

const level = useContext(LevelContext);
```
- Now it's time to consume the information we created in first step.
- We pass that information as argument to useContext Hook.

## Step 3: Provide the context 

- If we do not provide the context, React just takes the default value that we passed to `createContext`.

```tsx
import { LevelContext } from './LevelContext.js';

export default function Section({ level, children }) {
  return (
    <section className="section">
      <LevelContext value={level}>
        {children}
      </LevelContext>
    </section>
  );
}
```
- This tells React: “if any component inside this <Section> asks for `LevelContext`, give them this level.” The component will use the value of the nearest <LevelContext> in the UI tree above it.
